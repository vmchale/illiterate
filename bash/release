#!/usr/bin/env sh
git tag "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
git push origin --tags
git tag -d "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
git push origin master
github-release release -s $(cat ~/.git-token) -u vmchale -r illiterate -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit-i686-linux-gnu -f target/lit-i686-linux-gnu -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit-s390x-linux-gnu -f target/lit-s390x-linux-gnu -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit-arm-linux-gnueabihf -f target/lit-arm-linux-gnueabihf -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit-aarch64-linux-gnu -f target/lit-aarch64-linux-gnu -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit-powerpc-linux-gnu -f target/lit-powerpc-linux-gnu -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit-powerpc64-linux-gnu -f target/lit-powerpc64-linux-gnu -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit-powerpc64le-linux-gnu -f target/lit-powerpc64le-linux-gnu -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit-alpha-linux-gnu -f target/lit-alpha-linux-gnu -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit-mips-linux-gnu -f target/lit-mips-linux-gnu -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit-mipsel-linux-gnu -f target/lit-mipsel-linux-gnu -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit-mips64-linux-gnuabi64 -f target/lit-mips64-linux-gnuabi64 -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit-mips64el-linux-gnuabi64 -f target/lit-mips64el-linux-gnuabi64 -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit-x86_64-unknown-redox -f target/lit-x86_64-unknown-redox -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit-sh4-linux-gnu -f target/lit-sh4-linux-gnu -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit-arm-linux-gnueabi -f target/lit-arm-linux-gnueabi -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit-riscv64-linux-gnu -f target/lit-riscv64-linux-gnu -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit-hppa-linux-gnu -f target/lit-hppa-linux-gnu -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit-sparc64-linux-gnu -f target/lit-sparc64-linux-gnu -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit-m68k-linux-gnu -f target/lit-m68k-linux-gnu -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n lit.1 -f man/lit.1 -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
github-release upload -s $(cat ~/.git-token) -u vmchale -r illiterate -n illiterate.deb -f target/illiterate.deb -t "$(grep -P -o '\d+\.\d+\.\d+' src/cli.dats)"
